I"M<p><a href="http://www.dropwizard.io">Dropwizard</a> is a collection of Java tools that relies on sane defaults to simplify the creation of RESTful applications serving content over a HTTP API. We’re using it as part of an effort to break a monolithic app into smaller microservices. Most of its configuration is straightforward and well-documented; however, figuring out how to log HTTP access to a file was a pain. It’s not that the configuration changes are particularly difficult, just that there’s a ton of outdated or just plain wrong documentation out there!</p>

<p>We added the following to our YAML configuration file:</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">server</span><span class="pi">:</span>
  <span class="na">requestLog</span><span class="pi">:</span>
    <span class="na">appenders</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">file</span>
        <span class="na">currentLogFilename</span><span class="pi">:</span> <span class="s">/var/log/our-app/access.log</span>
        <span class="na">archivedLogFilenamePattern</span><span class="pi">:</span> <span class="s">/var/log/our-app/accedd-%d.log.gz</span></code></pre></figure>

<p>This will store <a href="http://en.wikipedia.org/wiki/Common_Log_Format">Common Log Format</a> entries in <code>/var/log/our-app/access.log</code>, mirroring the entries you’d typically see in your console when running Dropwizard in development mode. Not difficult, just often incorrectly documented!</p>

:ET